<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Schola Arcana ‚Äî Topics Atlas</title>
  <meta name="description" content="A pink, aesthetic, ultra-specific topics atlas for Logic, Discrete Math, TOC, Linear Algebra, Quantum, Probability, Analysis, Physics, Algorithms, AI, Crypto, and more." />
  <style>
    :root{
      --bg:#fff7fb;
      --card:#ffffffcc;
      --ink:#1f1630;
      --muted:#5b4b66;

      --pink:#ff4da6;
      --pink2:#ff77c2;
      --lav:#b18cff;
      --mint:#5fe2c2;
      --gold:#ffd36e;

      --line:#f2c9df;
      --shadow: 0 18px 40px rgba(31,22,48,.10);
      --shadow2: 0 10px 24px rgba(31,22,48,.08);

      --radius:22px;
      --radius2:16px;

      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:var(--sans);
      color:var(--ink);
      background:
        radial-gradient(1200px 700px at 10% 10%, #ffe0f0 0%, transparent 60%),
        radial-gradient(1000px 700px at 90% 20%, #f0e3ff 0%, transparent 55%),
        radial-gradient(900px 600px at 50% 90%, #e6fff7 0%, transparent 60%),
        linear-gradient(180deg, var(--bg) 0%, #ffffff 100%);
      overflow-x:hidden;
    }
    a{color:inherit}
    .wrap{max-width:1320px;margin:0 auto;padding:26px 18px 70px}
    .hero{
      position:relative;
      border:1px solid var(--line);
      border-radius:var(--radius);
      background: linear-gradient(135deg, #ffffffcc, #fff0f8cc);
      box-shadow:var(--shadow);
      padding:26px 22px;
      overflow:hidden;
    }
    .hero:before{
      content:"";
      position:absolute; inset:-50px -70px auto auto;
      width:320px;height:320px;
      background:
        radial-gradient(circle at 30% 30%, #ffb3da 0%, transparent 58%),
        radial-gradient(circle at 70% 70%, #c7b0ff 0%, transparent 58%);
      filter: blur(2px);
      transform: rotate(14deg);
      opacity:.9;
      pointer-events:none;
    }
    .sparkle{
      display:inline-block;
      background: linear-gradient(135deg, var(--pink), var(--lav));
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
      font-weight:950;
      letter-spacing:-.01em;
    }
    .hero h1{
      margin:0 0 8px;
      font-size: clamp(26px, 3.2vw, 44px);
      letter-spacing:-.02em;
      line-height:1.05;
    }
    .muted{color:var(--muted)}
    .row{
      display:flex; flex-wrap:wrap; gap:10px; align-items:center;
      margin-top:14px;
    }
    .badge{
      border:1px solid var(--line);
      background:#fff;
      border-radius:999px;
      padding:8px 12px;
      font-size:13px;
      color:var(--muted);
      display:flex; gap:8px; align-items:center;
      box-shadow:0 8px 18px rgba(31,22,48,.06);
    }
    .dot{width:8px;height:8px;border-radius:50%;}
    .dot.pink{background:var(--pink)}
    .dot.lav{background:var(--lav)}
    .dot.mint{background:var(--mint)}
    .dot.gold{background:var(--gold)}

    .controls{
      margin-top:14px;
      display:grid;
      grid-template-columns: 1.25fr .75fr;
      gap:12px;
    }
    @media (max-width: 980px){ .controls{grid-template-columns:1fr} }

    .card{
      border:1px solid var(--line);
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow2);
      padding:14px;
      backdrop-filter: blur(8px);
    }
    .card h2{
      margin:0 0 10px;
      font-size:16px;
      letter-spacing:-.01em;
      display:flex; align-items:center; gap:10px;
    }
    .pill{
      font-family:var(--mono);
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--line);
      background:#fff;
      color:var(--muted);
      white-space:nowrap;
    }

    .searchRow{display:flex; gap:10px; flex-wrap:wrap; align-items:center}
    .search{
      flex:1 1 320px;
      position:relative;
    }
    .search input{
      width:100%;
      padding:12px 12px 12px 40px;
      border-radius:999px;
      border:1px solid var(--line);
      background:#fff;
      outline:none;
      box-shadow:0 10px 18px rgba(31,22,48,.06);
      font-size:14px;
    }
    .search input:focus{border-color:#f0a7cd}
    .searchIcon{
      position:absolute; left:14px; top:50%; transform:translateY(-50%);
      width:16px;height:16px; opacity:.55;
      border:2px solid var(--muted); border-radius:50%;
    }
    .searchIcon:after{
      content:"";
      position:absolute; width:9px; height:2px; background:var(--muted);
      bottom:-6px; right:-7px; transform: rotate(45deg);
      border-radius:2px;
      opacity:.8;
    }

    .btn{
      border:1px solid var(--line);
      background: linear-gradient(180deg, #fff, #fff7fb);
      border-radius:999px;
      padding:10px 14px;
      font-weight:850;
      font-size:13px;
      cursor:pointer;
      box-shadow:0 10px 18px rgba(31,22,48,.06);
      transition: transform .08s ease, border-color .2s ease;
      user-select:none;
    }
    .btn:hover{transform: translateY(-1px); border-color:#f0a7cd}
    .btn.primary{
      border-color: transparent;
      background: linear-gradient(135deg, var(--pink), var(--pink2));
      color:white;
    }
    .btn.ghost{background:transparent; box-shadow:none;}

    .filterRow{
      display:flex; gap:8px; flex-wrap:wrap; align-items:center;
      margin-top:10px;
    }
    .chip{
      display:inline-flex; align-items:center; gap:8px;
      border:1px solid var(--line);
      background:#fff;
      padding:7px 10px;
      border-radius:999px;
      font-size:12px;
      color:var(--muted);
      cursor:pointer;
      user-select:none;
      transition:.12s ease;
      box-shadow:0 10px 18px rgba(31,22,48,.05);
    }
    .chip[aria-pressed="true"]{
      background: linear-gradient(135deg, #ffe2f2, #f2e8ff);
      border-color:#f0a7cd;
      color:#3a2449;
    }
    .chip b{color:var(--ink)}
    .tiny{font-size:12px;color:var(--muted);line-height:1.5}

    /* Atlas layout */
    .atlas{
      margin-top:14px;
      display:grid;
      grid-template-columns: 1fr 340px;
      gap:12px;
      align-items:start;
    }
    @media (max-width: 1080px){ .atlas{grid-template-columns:1fr} }

    .panel{
      border:1px solid var(--line);
      background:#fff;
      border-radius:var(--radius);
      box-shadow:var(--shadow2);
      overflow:hidden;
    }

    /* Accordion sections */
    details{border-top:1px solid #f7d8e8}
    details:first-child{border-top:none}
    summary{
      list-style:none;
      cursor:pointer;
      padding:14px 16px;
      font-weight:950;
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
      background: linear-gradient(180deg, #fff, #fff7fb);
    }
    summary::-webkit-details-marker{display:none}
    .caret{
      width:10px;height:10px; border-right:2px solid var(--muted); border-bottom:2px solid var(--muted);
      transform: rotate(-45deg);
      transition:.12s ease;
      margin-left:6px;
    }
    details[open] .caret{transform: rotate(45deg)}
    .secMeta{
      display:flex; flex-wrap:wrap; gap:6px; align-items:center;
      padding:0 16px 14px;
      background:#fff;
    }
    .tag{
      font-family:var(--mono);
      font-size:11px;
      padding:5px 9px;
      border-radius:999px;
      border:1px solid var(--line);
      background:#fff;
      color:var(--muted);
      white-space:nowrap;
    }
    .tag.pink{background:#fff0f8}
    .tag.lav{background:#f4eeff}
    .tag.mint{background:#edfffb}
    .tag.gold{background:#fff7e1}

    .topics{
      padding:0 16px 16px;
      color:var(--muted);
    }

    /* Topic list */
    .topicGroup{
      margin:14px 0 18px;
      padding:12px 12px;
      border:1px solid #f7d8e8;
      border-radius:18px;
      background: #fff;
      box-shadow:0 10px 18px rgba(31,22,48,.04);
    }
    .topicGroup h3{
      margin:0 0 8px;
      font-size:14px;
      letter-spacing:-.01em;
      color:#2b1a3a;
      display:flex; gap:8px; align-items:center; flex-wrap:wrap;
    }
    .topicGroup h3 .pill{padding:5px 9px;font-size:11px}
    .list{
      margin:0;
      padding-left:18px;
      line-height:1.65;
      font-size:13px;
    }
    .list li{margin:6px 0}
    .list li mark{
      background: linear-gradient(135deg, #ffe2f2, #f2e8ff);
      padding:0 2px;
      border-radius:6px;
    }
    .kbd{
      font-family:var(--mono);
      font-size:12px;
      background:#fff7fb;
      border:1px solid var(--line);
      padding:2px 6px;
      border-radius:8px;
      color:#3a2449;
    }

    /* Right sidebar */
    .sidebar{
      position:sticky;
      top:12px;
      border:1px solid var(--line);
      background: var(--card);
      border-radius:var(--radius);
      box-shadow:var(--shadow2);
      padding:14px;
      backdrop-filter: blur(8px);
    }
    .sidebar h3{margin:0 0 10px;font-size:15px;letter-spacing:-.01em}
    .stat{
      border:1px solid var(--line);
      background:#fff;
      border-radius:18px;
      padding:12px;
      margin-bottom:10px;
      box-shadow:0 10px 18px rgba(31,22,48,.05);
    }
    .stat .label{font-size:12px;color:var(--muted);margin-bottom:6px}
    .stat .value{font-weight:950;font-size:18px}
    .stat .sub{font-size:12px;color:var(--muted);margin-top:4px;line-height:1.45}

    .quickLinks{display:flex;flex-direction:column;gap:8px;margin-top:8px}
    .linkBtn{
      text-align:left;
      border:1px solid var(--line);
      background:#fff;
      border-radius:14px;
      padding:10px 12px;
      cursor:pointer;
      font-weight:850;
      box-shadow:0 10px 18px rgba(31,22,48,.05);
      transition:.1s ease;
    }
    .linkBtn:hover{transform: translateY(-1px); border-color:#f0a7cd}
    .linkBtn span{display:block;font-weight:650;color:var(--muted);font-size:12px;margin-top:4px}

    footer{
      margin-top:16px;
      color:var(--muted);
      font-size:12px;
      text-align:center;
      line-height:1.55;
    }

    /* Print */
    @media print{
      .controls,.sidebar,.row .btn,.row .badge{display:none !important}
      body{background:#fff}
      .hero{box-shadow:none}
      .panel{box-shadow:none}
      .topicGroup{box-shadow:none}
    }
  </style>
</head>

<body>
  <div class="wrap">
    <header class="hero">
      <h1><span class="sparkle">Schola Arcana</span> ‚Äî Topics Atlas</h1>
      <p class="muted" style="margin:0;max-width:92ch">
        This is your ‚ÄúI want to see the whole universe‚Äù map: ultra-specific topic inventory across
        <b>Logic</b>, <b>Discrete Math</b>, <b>TOC</b>, <b>Linear Algebra</b>, <b>Analysis</b>, <b>Probability</b>, <b>Quantum</b>,
        plus ‚Äúkept warm‚Äù lanes (algorithms, AI theory, crypto, physics).
      </p>

      <div class="row">
        <div class="badge"><span class="dot pink"></span> Search everything</div>
        <div class="badge"><span class="dot lav"></span> Filter by lane</div>
        <div class="badge"><span class="dot mint"></span> Use as a map, not a checklist</div>
        <div class="badge"><span class="dot gold"></span> Print-friendly</div>
      </div>

      <div class="row" style="margin-top:12px">
        <a class="btn" href="index.html">MAIN PAGE</a>
        <button class="btn primary" id="expandAll">Expand all</button>
        <button class="btn" id="collapseAll">Collapse all</button>
        <button class="btn" id="clearAll">Clear filters</button>
        <button class="btn ghost" id="printBtn">Print / PDF</button>
      </div>
    </header>

    <section class="controls">
      <div class="card">
        <h2>Search & filters <span class="pill">instant map</span></h2>
        <div class="searchRow">
          <div class="search">
            <span class="searchIcon" aria-hidden="true"></span>
            <input id="q" type="text" placeholder="Search: e.g. ‚Äòpumping lemma‚Äô, ‚Äòspectral theorem‚Äô, ‚ÄòMarkov‚Äô, ‚Äòtensor product‚Äô, ‚ÄòŒµ‚ÄìŒ¥‚Äô..." />
          </div>
          <button class="btn" id="copyLink">Copy share link</button>
        </div>

        <div class="filterRow" aria-label="Filters">
          <div class="chip" role="button" tabindex="0" data-filter="foundations" aria-pressed="false"><b>Foundations</b> (logic/set)</div>
          <div class="chip" role="button" tabindex="0" data-filter="discrete" aria-pressed="false"><b>Discrete</b></div>
          <div class="chip" role="button" tabindex="0" data-filter="toc" aria-pressed="false"><b>TOC</b></div>
          <div class="chip" role="button" tabindex="0" data-filter="linalg" aria-pressed="false"><b>Linear Algebra</b></div>
          <div class="chip" role="button" tabindex="0" data-filter="analysis" aria-pressed="false"><b>Analysis/Calc</b></div>
          <div class="chip" role="button" tabindex="0" data-filter="prob" aria-pressed="false"><b>Probability</b></div>
          <div class="chip" role="button" tabindex="0" data-filter="qc" aria-pressed="false"><b>Quantum</b></div>
          <div class="chip" role="button" tabindex="0" data-filter="algos" aria-pressed="false"><b>Algorithms</b></div>
          <div class="chip" role="button" tabindex="0" data-filter="ai" aria-pressed="false"><b>AI theory</b></div>
          <div class="chip" role="button" tabindex="0" data-filter="crypto" aria-pressed="false"><b>Crypto/Security</b></div>
          <div class="chip" role="button" tabindex="0" data-filter="physics" aria-pressed="false"><b>Physics</b></div>
        </div>

        <p class="tiny" style="margin:10px 0 0">
          Keyboard: <span class="kbd">/</span> focuses search ‚Ä¢ <span class="kbd">Esc</span> clears search ‚Ä¢
          Click a filter to show only those lanes ‚Ä¢ You can multi-select filters.
        </p>
      </div>

      <div class="card">
        <h2>How to read this atlas <span class="pill">you-coded</span></h2>
        <ul class="tiny" style="margin:10px 0 0 18px;line-height:1.75">
          <li><b>Axioms ‚Üí objects ‚Üí structures ‚Üí theorems ‚Üí methods.</b></li>
          <li>If something feels ‚Äúrandom‚Äù: ask <b>what invariant</b> or <b>what universal property</b> is hiding.</li>
          <li>Mastery ‚â† completion. The map exists to reduce anxiety: you can point and say ‚ÄúI know what that is.‚Äù</li>
        </ul>
      </div>
    </section>

    <section class="atlas">
      <!-- MAIN ATLAS -->
      <div class="panel" id="atlasPanel" aria-label="Topics atlas"></div>

      <!-- SIDEBAR -->
      <aside class="sidebar">
        <h3>Atlas stats</h3>
        <div class="stat">
          <div class="label">Visible topics</div>
          <div class="value" id="visibleCount">‚Äî</div>
          <div class="sub">Based on your current search + filters.</div>
        </div>
        <div class="stat">
          <div class="label">Total topics in atlas</div>
          <div class="value" id="totalCount">‚Äî</div>
          <div class="sub">This is intentionally huge. You‚Äôre building a map of existence.</div>
        </div>

        <h3 style="margin-top:12px">Jump to lane</h3>
        <div class="quickLinks" id="quickLinks"></div>

        <div class="stat" style="margin-top:12px">
          <div class="label">Pro tip</div>
          <div class="sub">
            Use this page as your ‚ÄúWhat exists?‚Äù reference. Your semester plan is your ‚ÄúWhat I do now?‚Äù.
          </div>
        </div>
      </aside>
    </section>

    <footer>
      <b>Schola Arcana Topics Atlas</b> ‚Äî pink, but lethal. üíó<br/>
      Save as <span class="kbd">topics.html</span> and link it from your main <span class="kbd">index.html</span>.
    </footer>
  </div>

  <script>
    // ===========================
    // DATA (ULTRA-SPECIFIC TOPICS)
    // ===========================
    // Each section has: id, title, tags, groups[{title, bullets[], tags?}]
    // Keep bullets super granular. That's the point.

    const SECTIONS = [
      {
        id:"logic",
        title:"Logic & Proof (Foundations)",
        laneTags:["foundations"],
        chips:[["Foundations","pink"],["Axioms-first","lav"],["Proofcraft","gold"]],
        groups:[
          { title:"Propositional logic",
            bullets:[
              "Syntax vs semantics (formulas vs truth)",
              "Connectives: ¬¨, ‚àß, ‚à®, ‚Üí, ‚Üî",
              "Truth tables + tautology/contradiction/contingency",
              "Logical equivalence laws (De Morgan, absorption, distributivity)",
              "Normal forms: CNF, DNF (idea + construction)",
              "Implication traps: ‚Äòif‚Äô vs ‚Äòonly if‚Äô vs ‚Äòiff‚Äô",
              "Satisfiability vs validity",
              "Horn clauses (preview for CS/logic programming)"
            ],
            tags:["foundations"]
          },
          { title:"Predicate logic",
            bullets:[
              "Quantifiers: ‚àÄ, ‚àÉ; scope + binding variables",
              "Negating quantified statements (the most common failure mode)",
              "Free vs bound variables",
              "Translating English/math statements into logic (practice set)",
              "Uniqueness quantifier (‚Äò‚àÉ!‚Äô) patterns",
              "Using quantifiers to define: injective/surjective, partial orders, etc.",
              "Counterexamples as ‚Äòwitnesses‚Äô"
            ],
            tags:["foundations"]
          },
          { title:"Proof methods (your toolkit)",
            bullets:[
              "Direct proof (structure + template)",
              "Contrapositive proofs (especially for implications)",
              "Proof by contradiction (and what can go wrong)",
              "Proof by cases (finite partition of possibilities)",
              "Induction: weak induction, strong induction",
              "Well-ordering principle (equivalent to induction)",
              "Invariants (something that cannot change)",
              "Monovariants (a quantity that always increases/decreases)",
              "Extremal principle (choose minimal/maximal counterexample)",
              "Pigeonhole principle (basic + strong forms)",
              "Diagonalization as a proof technique (Cantor/G√∂del vibes)",
              "Reduction as a proof technique (core for TOC/complexity)"
            ],
            tags:["foundations","discrete","toc"]
          },
          { title:"Axiomatic thinking (meta)",
            bullets:[
              "Axioms vs definitions vs theorems vs corollaries",
              "Consistency vs completeness (informal intuition)",
              "Models of a theory (satisfying axioms)",
              "Independence of axioms (taste)",
              "Constructing objects by universal properties (preview for category theory)",
              "‚ÄòWhat are we allowed to assume?‚Äô as a habit"
            ],
            tags:["foundations"]
          }
        ]
      },

      {
        id:"sets",
        title:"Set Theory & Functions (Foundations)",
        laneTags:["foundations"],
        chips:[["Objects","pink"],["Structure","lav"],["ZFC-lite","gold"]],
        groups:[
          { title:"Core set operations",
            bullets:[
              "Membership (‚àà) and subset (‚äÜ) distinction",
              "Union/intersection/complement; set difference",
              "Power set P(X)",
              "Cartesian product X√óY",
              "Indexed unions/intersections (‚ãÉ, ‚ãÇ)",
              "Disjoint unions (tagged copies) idea"
            ],
            tags:["foundations"]
          },
          { title:"Relations",
            bullets:[
              "Binary relation as subset of X√óX",
              "Reflexive/symmetric/antisymmetric/transitive",
              "Equivalence relations and partitions",
              "Quotient set X/~ and canonical projection map",
              "Partial orders (posets): ‚â§ as a relation",
              "Hasse diagrams (posets visualization)",
              "Total orders vs partial orders"
            ],
            tags:["foundations","discrete"]
          },
          { title:"Functions as mappings (not formulas)",
            bullets:[
              "Domain/codomain/image",
              "Injective/surjective/bijective",
              "Inverse function (exists iff bijection)",
              "Composition and associativity",
              "Restriction/extension of a function",
              "Preimage (pullback) f^{-1}(S) vs inverse function",
              "Images of unions/intersections (what distributes, what doesn‚Äôt)"
            ],
            tags:["foundations","discrete"]
          },
          { title:"Cardinality (taste)",
            bullets:[
              "Finite vs infinite sets",
              "Countable sets: ‚Ñï, ‚Ñ§, ‚Ñö constructions (idea)",
              "Uncountability: Cantor diagonal argument (‚Ñù vs ‚Ñï)",
              "Cardinal arithmetic taste: |A√óB| for countable A,B",
              "Power set theorem: |P(A)| > |A| (Cantor)"
            ],
            tags:["foundations"]
          }
        ]
      },

      {
        id:"discrete",
        title:"Discrete Mathematics (Concrete-thinking)",
        laneTags:["discrete"],
        chips:[["Discrete","pink"],["Invariants","lav"],["Concrete Math energy","gold"]],
        groups:[
          { title:"Counting & combinatorics (core)",
            bullets:[
              "Sum rule / product rule",
              "Permutations and combinations",
              "Binomial coefficients and identities",
              "Combinatorial proofs (prove identity by counting same set two ways)",
              "Inclusion‚Äìexclusion principle",
              "Pigeonhole principle (and strong pigeonhole)",
              "Stars and bars (compositions/weak compositions)",
              "Derangements (idea)",
              "Catalan numbers (taste: Dyck paths, balanced parentheses)",
              "Double counting + bijections as proof tools"
            ],
            tags:["discrete"]
          },
          { title:"Recurrences",
            bullets:[
              "Defining recurrences from counting",
              "Solving linear recurrences (simple cases)",
              "Characteristic equation method (taste)",
              "Divide-and-conquer recurrences (Master theorem taste)",
              "Recurrences from algorithms (mergesort, quicksort expected)",
              "Generating functions as recurrence solvers (bridge)"
            ],
            tags:["discrete","algos"]
          },
          { title:"Generating functions (light ‚Üí real)",
            bullets:[
              "Ordinary generating functions (OGF) definition",
              "Coefficient extraction idea",
              "Convolution product corresponds to sequence sums",
              "Using OGFs to solve simple recurrences",
              "Partition function taste",
              "Exponential generating functions (EGF) taste"
            ],
            tags:["discrete"]
          },
          { title:"Graph theory (foundational)",
            bullets:[
              "Graph definitions: simple, multigraph, directed",
              "Degree, handshake lemma",
              "Paths, cycles, connectivity",
              "Trees: equivalent definitions",
              "Spanning trees",
              "BFS/DFS as structural explorations",
              "Bipartite graphs",
              "Planarity taste (K_5, K_{3,3} mention)",
              "Graph invariants: diameter, girth, chromatic number (taste)"
            ],
            tags:["discrete","algos"]
          },
          { title:"Graph theory (deeper, later)",
            bullets:[
              "Matchings: maximum matching idea",
              "Hall‚Äôs marriage theorem (taste)",
              "Flows: max-flow/min-cut theorem",
              "Cuts and connectivity (Menger taste)",
              "Spectral graph theory taste: adjacency/Laplacian eigenvalues",
              "Random graphs (Erd≈ës‚ÄìR√©nyi taste)",
              "Expanders (preview for complexity/crypto)"
            ],
            tags:["discrete","toc","crypto"]
          },
          { title:"Discrete probability (bridge)",
            bullets:[
              "Sample spaces and events (finite)",
              "Conditional probability on finite spaces",
              "Linearity of expectation (the cheat code)",
              "Indicator random variables",
              "Birthday paradox (taste)",
              "Markov chains preview"
            ],
            tags:["discrete","prob"]
          }
        ]
      },

      {
        id:"toc",
        title:"Theory of Computation (Sipser spine)",
        laneTags:["toc"],
        chips:[["TOC","pink"],["Reductions","lav"],["Limits of computation","gold"]],
        groups:[
          { title:"Regular languages & automata",
            bullets:[
              "DFA definition (5-tuple) and acceptance",
              "NFA definition and subset construction",
              "Regular expressions and equivalence to automata",
              "Closure properties: union, concat, star, complement, intersection",
              "Pumping lemma for regular languages (how to use, how to fail)",
              "Myhill‚ÄìNerode theorem (equivalence classes) (taste‚Üíreal)",
              "Minimization of DFA (idea + algorithm taste)"
            ],
            tags:["toc","discrete"]
          },
          { title:"Context-free languages",
            bullets:[
              "CFG definition: variables, terminals, productions, start symbol",
              "Parse trees and ambiguity",
              "Chomsky Normal Form (CNF) (taste)",
              "Pushdown automata and equivalence to CFG",
              "Closure properties for CFLs (which fail?)",
              "Pumping lemma for CFLs",
              "Deterministic CFLs (DCFL) taste"
            ],
            tags:["toc","discrete"]
          },
          { title:"Turing machines",
            bullets:[
              "TM definition; configurations and computation histories",
              "Variants: multi-tape, nondeterministic TM (equivalence idea)",
              "Enumerators and recognizable languages",
              "Church‚ÄìTuring thesis (philosophical positioning)"
            ],
            tags:["toc"]
          },
          { title:"Decidability & recognizability",
            bullets:[
              "Decidable languages vs recognizable languages",
              "Mapping reductions (‚â§_m) and their purpose",
              "Halting problem (A_TM) and diagonalization vibe",
              "Undecidable problems: E_TM, EQ_TM (taste)",
              "Rice‚Äôs theorem (semantic properties are undecidable)",
              "Post correspondence problem (PCP) taste"
            ],
            tags:["toc"]
          },
          { title:"Complexity theory (core)",
            bullets:[
              "Time complexity as resource-bounded computation",
              "Class P",
              "Class NP and polynomial-time verifiers",
              "NP-completeness: reductions as proof schema",
              "Cook‚ÄìLevin theorem (SAT is NP-complete) (conceptual)",
              "Classic NP-complete problems: 3SAT, CLIQUE, VC, SUBSET-SUM",
              "coNP (taste), NP ‚à© coNP (taste)",
              "Space complexity: PSPACE, Savitch theorem (conceptual taste)",
              "Hierarchy theorems (taste)",
              "Randomized classes: BPP (taste)",
              "Interactive proofs (taste)",
              "Circuit complexity (taste)"
            ],
            tags:["toc","algos","crypto"]
          }
        ]
      },

      {
        id:"linalg",
        title:"Linear Algebra (Axler + deeper structure)",
        laneTags:["linalg"],
        chips:[["Structure","pink"],["QC backbone","lav"],["Axioms of space","gold"]],
        groups:[
          { title:"Vector spaces & linear maps",
            bullets:[
              "Vector space axioms; subspaces",
              "Span, linear independence, basis",
              "Dimension and coordinates (conceptual)",
              "Linear map definition; range/image and null space/kernel",
              "Rank-nullity theorem",
              "Isomorphisms and invariants under change of basis",
              "Dual space V* (taste) and linear functionals"
            ],
            tags:["linalg"]
          },
          { title:"Matrices (as representations, not the concept)",
            bullets:[
              "Matrix of a linear map relative to bases",
              "Change-of-basis matrices",
              "Row reduction as solving linear systems (interpretation)",
              "Determinant as scaling/orientation (taste, not computation-heavy)",
              "Trace as invariant (sum of eigenvalues) (taste)"
            ],
            tags:["linalg"]
          },
          { title:"Eigenvalues and structure",
            bullets:[
              "Eigenvalues/eigenvectors definition",
              "Invariant subspaces",
              "Diagonalization (when possible)",
              "Jordan form taste (existence only)",
              "Minimal polynomial taste",
              "Spectral theorem (real symmetric / complex normal) (core for QC intuition)"
            ],
            tags:["linalg","qc"]
          },
          { title:"Inner product spaces",
            bullets:[
              "Inner product axioms",
              "Norm, distance, orthogonality",
              "Orthonormal bases",
              "Gram‚ÄìSchmidt",
              "Orthogonal projection and least squares",
              "Unitary/orthogonal operators"
            ],
            tags:["linalg","qc"]
          },
          { title:"Linear operators (advanced taste)",
            bullets:[
              "Adjoint operator",
              "Self-adjoint (Hermitian) operators",
              "Normal operators",
              "Spectral decomposition and measurement intuition",
              "Singular value decomposition (SVD) (bridge to ML)"
            ],
            tags:["linalg","qc","ai"]
          }
        ]
      },

      {
        id:"analysis",
        title:"Calculus & Real Analysis (selective but real)",
        laneTags:["analysis"],
        chips:[["Continuity","pink"],["Why calculus is true","lav"],["Selective rigor","gold"]],
        groups:[
          { title:"Limits & continuity",
            bullets:[
              "Limit definition (Œµ‚ÄìŒ¥) (conceptual discipline)",
              "Limit laws derived (not assumed)",
              "Continuity definition and properties",
              "Intermediate value theorem (IVT) idea",
              "Compactness intuition (preview)"
            ],
            tags:["analysis"]
          },
          { title:"Differentiation",
            bullets:[
              "Derivative definition",
              "Mean value theorem (MVT) idea",
              "Taylor theorem taste (as local approximation)",
              "Convexity and second derivative tests (idea)",
              "Optimization as a rigorous consequence (bridge to AI)"
            ],
            tags:["analysis","ai"]
          },
          { title:"Integration",
            bullets:[
              "Riemann sums and construction of the integral",
              "Fundamental theorem of calculus (FTC) why it‚Äôs true (idea + proof sketch)",
              "Improper integrals (taste)",
              "Change of variables (conceptual)"
            ],
            tags:["analysis","physics"]
          },
          { title:"Sequences & series",
            bullets:[
              "Convergence definitions",
              "Cauchy sequences",
              "Series tests taste (comparison, ratio, root)",
              "Power series + radius of convergence (bridge to generating functions)",
              "Uniform convergence taste (exists, don‚Äôt dive too far)"
            ],
            tags:["analysis","discrete"]
          },
          { title:"Metric spaces (selective analysis backbone)",
            bullets:[
              "Metric definition",
              "Open/closed sets",
              "Compactness (Heine‚ÄìBorel taste)",
              "Continuity in metric spaces",
              "Completeness (Banach taste)",
              "Contraction mapping theorem taste"
            ],
            tags:["analysis"]
          },
          { title:"Multivariable & vector calculus (optional lane)",
            bullets:[
              "Partial derivatives and gradients",
              "Jacobian as linear approximation",
              "Chain rule in multiple dimensions",
              "Line integrals and conservative fields taste",
              "Divergence and curl (physical meaning taste)",
              "Green/Stokes/Gauss theorems (existence-only taste)"
            ],
            tags:["analysis","physics","ai"]
          }
        ]
      },

      {
        id:"prob",
        title:"Probability & Stochastic Structures",
        laneTags:["prob"],
        chips:[["Uncertainty","pink"],["Markov love","lav"],["AI/QC bridge","gold"]],
        groups:[
          { title:"Foundations",
            bullets:[
              "Probability space (Œ©, F, P) (axioms)",
              "Events and sigma-algebra taste (don‚Äôt panic)",
              "Conditional probability; law of total probability",
              "Bayes‚Äô theorem (as inversion)",
              "Independence (pairwise vs mutual taste)",
              "Counting-based probability and symmetry arguments"
            ],
            tags:["prob"]
          },
          { title:"Random variables",
            bullets:[
              "Discrete RVs: PMF, CDF",
              "Expectation and linearity",
              "Variance, covariance",
              "MGF/PGF taste (moment generating / probability generating)",
              "Common distributions: Bernoulli, Binomial, Geometric, Poisson"
            ],
            tags:["prob"]
          },
          { title:"Limit theorems (taste)",
            bullets:[
              "Law of large numbers (intuition)",
              "Central limit theorem (intuition)",
              "Concentration inequalities taste: Markov, Chebyshev, Chernoff"
            ],
            tags:["prob","ai"]
          },
          { title:"Markov chains",
            bullets:[
              "Transition matrix and state graph",
              "Irreducible, aperiodic, recurrent/transient taste",
              "Stationary distribution",
              "Detailed balance and reversibility taste",
              "Mixing time taste",
              "Absorbing chains and hitting times"
            ],
            tags:["prob","discrete"]
          },
          { title:"Stochastic processes (optional)",
            bullets:[
              "Random walks on graphs (bridge to spectral ideas)",
              "Poisson process taste",
              "Martingales taste (exists, don‚Äôt overcommit)"
            ],
            tags:["prob","discrete"]
          }
        ]
      },

      {
        id:"qc",
        title:"Quantum Computing & Quantum Information",
        laneTags:["qc"],
        chips:[["Quantum","pink"],["Linear algebra in motion","lav"],["Algorithms & info","gold"]],
        groups:[
          { title:"Postulates & formalism",
            bullets:[
              "State vectors in complex Hilbert space (finite-dimensional)",
              "Global phase vs relative phase",
              "Bra-ket notation: ‚ü®œà| and |œà‚ü©",
              "Inner products and probability amplitudes",
              "Unitary evolution and reversibility",
              "Measurement postulate (projective) and Born rule",
              "Composite systems and tensor products",
              "Density matrices taste (mixed states) (optional)"
            ],
            tags:["qc","linalg"]
          },
          { title:"Single-qubit geometry",
            bullets:[
              "Computational basis |0‚ü©, |1‚ü©",
              "Bloch sphere intuition",
              "Pauli matrices X, Y, Z",
              "Hadamard gate H and basis change",
              "Rotations Rx, Ry, Rz taste",
              "Measurement in different bases"
            ],
            tags:["qc"]
          },
          { title:"Multi-qubit phenomena",
            bullets:[
              "Tensor products explicitly (2-qubit basis states)",
              "Entanglement vs separability",
              "Bell states",
              "CNOT gate and controlled operations",
              "No-cloning theorem (conceptual proof)"
            ],
            tags:["qc"]
          },
          { title:"Circuits and universality",
            bullets:[
              "Circuit model as composing unitaries",
              "Universal gate sets taste (Clifford+T mention)",
              "Reversible classical computation vs quantum computation",
              "Toffoli gate taste",
              "Quantum teleportation (protocol + math)"
            ],
            tags:["qc"]
          },
          { title:"Quantum algorithms (core taste ‚Üí demos)",
            bullets:[
              "Deutsch‚ÄìJozsa algorithm",
              "Grover search (amplitude amplification)",
              "Quantum Fourier transform (QFT) concept",
              "Shor (high-level structure: period finding + QFT)",
              "Phase estimation taste (exists)",
              "BQP (complexity class intuition)"
            ],
            tags:["qc","toc"]
          },
          { title:"Quantum error & information (taste)",
            bullets:[
              "Noise models taste: bit flip, phase flip, depolarizing",
              "Basic idea of error correction codes (Shor code taste)",
              "Entropies (von Neumann entropy taste)",
              "Quantum channels and CPTP maps taste",
              "No-signaling intuition"
            ],
            tags:["qc"]
          }
        ]
      },

      {
        id:"algos",
        title:"Algorithms & Algorithmic Proofs (kept warm, math-first)",
        laneTags:["algos"],
        chips:[["Algorithms","pink"],["Proof of correctness","lav"],["Complexity mindset","gold"]],
        groups:[
          { title:"Proof patterns for algorithms",
            bullets:[
              "Loop invariants (design + proof)",
              "Exchange arguments (greedy proofs)",
              "Cut property proofs (MST)",
              "Amortized analysis taste (potential method)",
              "Adversary arguments taste"
            ],
            tags:["algos","discrete"]
          },
          { title:"Algorithmic paradigms",
            bullets:[
              "Divide and conquer (recurrence-driven reasoning)",
              "Greedy algorithms (matroid taste)",
              "Dynamic programming (optimal substructure + overlap)",
              "Graph algorithms: BFS, DFS, shortest paths",
              "Max flow as a unifying tool"
            ],
            tags:["algos","discrete"]
          },
          { title:"Complexity & reductions (bridge to TOC)",
            bullets:[
              "Big-O, Big-Œ©, Big-Œò as statements",
              "Polynomial-time reductions as translations",
              "NP-completeness as a universal hardness certificate",
              "Approximation algorithms taste (only if curious)",
              "Randomized algorithms taste (only if curious)"
            ],
            tags:["algos","toc"]
          }
        ]
      },

      {
        id:"ai",
        title:"AI Theory (kept warm, not SWE-heavy)",
        laneTags:["ai"],
        chips:[["AI theory","pink"],["Math-driven","lav"],["Don‚Äôt overload","gold"]],
        groups:[
          { title:"Optimization foundations",
            bullets:[
              "Gradient descent as iterative method",
              "Convexity intuition; why convex problems are nice",
              "Lagrange multipliers taste",
              "Regularization (L2/L1) intuition",
              "Hessian taste (second-order methods exist)"
            ],
            tags:["ai","analysis","linalg"]
          },
          { title:"Statistical learning theory (taste)",
            bullets:[
              "Train/test split and generalization",
              "Bias-variance intuition",
              "Overfitting and capacity",
              "VC dimension taste (exists)",
              "PAC learning taste (exists)"
            ],
            tags:["ai","prob"]
          },
          { title:"Probabilistic models (bridge)",
            bullets:[
              "Bayesian inference (conceptual)",
              "Naive Bayes (structure)",
              "Hidden Markov models taste",
              "Graphical models taste"
            ],
            tags:["ai","prob"]
          },
          { title:"Reinforcement learning (taste)",
            bullets:[
              "Markov decision processes (MDPs)",
              "Value functions and Bellman equations",
              "Policy iteration vs value iteration taste",
              "Exploration/exploitation taste"
            ],
            tags:["ai","prob","discrete"]
          }
        ]
      },

      {
        id:"crypto",
        title:"Cryptography & Security (math-friendly lane)",
        laneTags:["crypto"],
        chips:[["Security","pink"],["Hardness intuition","lav"],["Number theory taste","gold"]],
        groups:[
          { title:"Core crypto primitives (conceptual)",
            bullets:[
              "Symmetric encryption vs public-key encryption",
              "One-way functions (why ‚Äòeasy forward, hard backward‚Äô matters)",
              "Hash functions: preimage vs collision resistance",
              "Digital signatures (idea)",
              "Key exchange (Diffie‚ÄìHellman concept)"
            ],
            tags:["crypto","toc"]
          },
          { title:"Number theory & algebra taste (useful)",
            bullets:[
              "Modular arithmetic, congruences",
              "Groups modulo p (multiplicative group) taste",
              "Euler‚Äôs theorem and Fermat‚Äôs little theorem taste",
              "RSA high-level (trapdoor functions)",
              "Elliptic curves taste (existence)"
            ],
            tags:["crypto","discrete"]
          },
          { title:"Security thinking (not tooling-heavy)",
            bullets:[
              "Threat models (define the adversary)",
              "Reductions in security proofs (security as ‚Äòif you break this, you solve that‚Äô)",
              "Kerckhoffs‚Äôs principle",
              "Attack surfaces and invariants of secure design"
            ],
            tags:["crypto","foundations"]
          }
        ]
      },

      {
        id:"physics",
        title:"Physics (optional, quantum-friendly intuition)",
        laneTags:["physics"],
        chips:[["Optional","pink"],["Intuition booster","lav"],["Math resonance","gold"]],
        groups:[
          { title:"Linear systems & oscillations (LA resonance)",
            bullets:[
              "Simple harmonic oscillator (concept)",
              "Coupled oscillators (eigenmodes intuition)",
              "Complex exponentials as oscillations (bridge to QC phase)"
            ],
            tags:["physics","linalg"]
          },
          { title:"Waves & interference (QC intuition)",
            bullets:[
              "Superposition principle",
              "Interference patterns as phase effects",
              "Fourier intuition (connects to QFT conceptually)"
            ],
            tags:["physics","qc"]
          },
          { title:"Classical mechanics taste",
            bullets:[
              "Newton vs Lagrangian formulation (principle of least action taste)",
              "Conservation laws as invariants (energy, momentum)",
              "Symmetry ‚Üí conservation (Noether taste)"
            ],
            tags:["physics","foundations"]
          },
          { title:"Electromagnetism vector calculus taste (optional)",
            bullets:[
              "Divergence and curl meaning",
              "Maxwell equations (existence-only taste)",
              "Energy flow (Poynting vector) taste"
            ],
            tags:["physics","analysis"]
          }
        ]
      }
    ];

    // ===========================
    // RENDERING
    // ===========================
    const atlasPanel = document.getElementById("atlasPanel");
    const quickLinks = document.getElementById("quickLinks");
    const visibleCount = document.getElementById("visibleCount");
    const totalCount = document.getElementById("totalCount");

    const filterState = new Set(); // active lane filters
    let query = "";

    function escapeHtml(s){
      return s.replace(/[&<>"']/g, (c)=>({ "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;" }[c]));
    }

    function highlight(text, q){
      if(!q) return escapeHtml(text);
      const re = new RegExp(`(${q.replace(/[.*+?^${}()|[\]\\]/g, "\\$&")})`, "ig");
      return escapeHtml(text).replace(re, "<mark>$1</mark>");
    }

    function sectionMatches(sec){
      // Lane filter
      if(filterState.size){
        const ok = sec.laneTags.some(t => filterState.has(t));
        if(!ok) return false;
      }
      // Query match
      if(!query) return true;
      const q = query.toLowerCase();
      if(sec.title.toLowerCase().includes(q)) return true;
      for(const g of sec.groups){
        if(g.title.toLowerCase().includes(q)) return true;
        for(const b of g.bullets){
          if(b.toLowerCase().includes(q)) return true;
        }
      }
      return false;
    }

    function render(){
      // build quicklinks once
      quickLinks.innerHTML = SECTIONS.map(sec => `
        <button class="linkBtn" data-jump="${sec.id}">
          ${sec.title}
          <span>${sec.laneTags.map(t=>t.toUpperCase()).join(" ¬∑ ")}</span>
        </button>
      `).join("");

      // compute counts
      let total = 0;
      let visible = 0;

      // render atlas
      const html = SECTIONS.map((sec, idx) => {
        // count total bullets
        for(const g of sec.groups) total += g.bullets.length;

        if(!sectionMatches(sec)) return "";

        // render groups with possible query filter per bullet
        let groupHtml = "";
        for(const g of sec.groups){
          // bullet-level filtering
          const bullets = g.bullets.filter(b=>{
            if(!query) return true;
            const q = query.toLowerCase();
            return g.title.toLowerCase().includes(q) || b.toLowerCase().includes(q) || sec.title.toLowerCase().includes(q);
          });
          if(!bullets.length) continue;

          visible += bullets.length;

          groupHtml += `
            <div class="topicGroup">
              <h3>
                ${escapeHtml(g.title)}
                ${g.tags ? g.tags.map(t=>`<span class="pill">${t}</span>`).join("") : ""}
              </h3>
              <ol class="list">
                ${bullets.map(b=>`<li>${highlight(b, query)}</li>`).join("")}
              </ol>
            </div>
          `;
        }
        if(!groupHtml) return "";

        const chipHtml = sec.chips.map(([label, color])=>`<span class="tag ${color}">${escapeHtml(label)}</span>`).join("");
        const openByDefault = idx < 2; // first two open by default
        return `
          <details id="sec-${sec.id}" ${openByDefault ? "open" : ""} data-section="${sec.id}" data-lanes="${sec.laneTags.join(",")}">
            <summary>
              <span>${escapeHtml(sec.title)}</span>
              <span style="display:flex;align-items:center;gap:10px">
                <span class="pill">${sec.laneTags.map(t=>t.toUpperCase()).join(" ¬∑ ")}</span>
                <span class="caret" aria-hidden="true"></span>
              </span>
            </summary>
            <div class="secMeta">${chipHtml}</div>
            <div class="topics">
              ${groupHtml}
            </div>
          </details>
        `;
      }).join("");

      atlasPanel.innerHTML = html || `
        <div style="padding:18px">
          <div class="card" style="background:#fff;border-radius:18px">
            <h2>No matches <span class="pill">try different filters</span></h2>
            <p class="muted" style="margin:0">
              Your search/filters are too strict. Clear filters or shorten the search query.
            </p>
          </div>
        </div>
      `;

      totalCount.textContent = String(total);
      visibleCount.textContent = String(visible);

      // bind quicklinks jump
      document.querySelectorAll(".linkBtn").forEach(btn=>{
        btn.onclick = ()=>{
          const id = btn.getAttribute("data-jump");
          const el = document.getElementById(`sec-${id}`);
          if(el){ el.open = true; el.scrollIntoView({behavior:"smooth", block:"start"}); }
        };
      });
    }

    // ===========================
    // FILTER UI
    // ===========================
    const chips = document.querySelectorAll(".chip[data-filter]");
    function toggleChip(el){
      const key = el.getAttribute("data-filter");
      const pressed = el.getAttribute("aria-pressed") === "true";
      el.setAttribute("aria-pressed", pressed ? "false" : "true");
      if(pressed) filterState.delete(key);
      else filterState.add(key);
      render();
      syncUrl();
    }
    chips.forEach(ch=>{
      ch.addEventListener("click", ()=>toggleChip(ch));
      ch.addEventListener("keydown", (e)=>{
        if(e.key==="Enter" || e.key===" "){ e.preventDefault(); toggleChip(ch); }
      });
    });

    // ===========================
    // SEARCH
    // ===========================
    const qInput = document.getElementById("q");
    qInput.addEventListener("input", ()=>{
      query = qInput.value.trim();
      render();
      syncUrl();
    });

    window.addEventListener("keydown", (e)=>{
      if(e.key==="/"){
        // focus search
        if(document.activeElement !== qInput){
          e.preventDefault();
          qInput.focus();
        }
      }
      if(e.key==="Escape"){
        if(document.activeElement === qInput || qInput.value){
          qInput.value = "";
          query = "";
          render();
          syncUrl();
        }
      }
    });

    // ===========================
    // EXPAND/COLLAPSE
    // ===========================
    document.getElementById("expandAll").onclick = ()=>{
      document.querySelectorAll("#atlasPanel details").forEach(d=>d.open=true);
    };
    document.getElementById("collapseAll").onclick = ()=>{
      document.querySelectorAll("#atlasPanel details").forEach(d=>d.open=false);
    };
    document.getElementById("clearAll").onclick = ()=>{
      filterState.clear();
      query = "";
      qInput.value = "";
      document.querySelectorAll(".chip[data-filter]").forEach(c=>c.setAttribute("aria-pressed","false"));
      render();
      syncUrl();
    };
    document.getElementById("printBtn").onclick = ()=>window.print();

    // ===========================
    // SHARE LINK
    // ===========================
    function syncUrl(){
      const params = new URLSearchParams();
      if(query) params.set("q", query);
      if(filterState.size) params.set("f", Array.from(filterState).join(","));
      const newUrl = `${location.pathname}?${params.toString()}`;
      history.replaceState(null, "", newUrl);
    }
    function loadUrl(){
      const params = new URLSearchParams(location.search);
      const q = params.get("q");
      const f = params.get("f");
      if(q){ query = q; qInput.value = q; }
      if(f){
        f.split(",").map(s=>s.trim()).filter(Boolean).forEach(x=>filterState.add(x));
        document.querySelectorAll(".chip[data-filter]").forEach(c=>{
          const key = c.getAttribute("data-filter");
          c.setAttribute("aria-pressed", filterState.has(key) ? "true" : "false");
        });
      }
    }
    document.getElementById("copyLink").onclick = async ()=>{
      try{
        const url = location.href;
        await navigator.clipboard.writeText(url);
        const btn = document.getElementById("copyLink");
        const old = btn.textContent;
        btn.textContent = "Copied ‚ú®";
        setTimeout(()=>btn.textContent = old, 900);
      }catch{
        alert("Could not copy automatically. You can manually copy the URL from the address bar.");
      }
    };

    // Boot
    loadUrl();
    render();
  </script>
</body>
</html>